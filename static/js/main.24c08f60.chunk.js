(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{135:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(25),i=n.n(o),u=n(1),l=n(2),s=n(13),c=n(5),f=n(6),p=n(61),d=n(21),m=n(12),h=n(10);var v=function(){var e=Object(a.useState)(),t=Object(h.a)(e,2);t[0],t[1];return r.a.createElement("div",null,r.a.createElement("h2",null,"Page under construction --- our ingeneous engineers are working on it"),r.a.createElement("img",{title:"Our oompa loompa is processing. Please wait.",src:"/RVparcellation./processing.gif",alt:"loading...",align:"middle"}))};var g=function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Page under construction --- our ingeneous engineers are working on it"),r.a.createElement("img",{title:"Our oompa loompa is processing. Please wait.",src:"/RVparcellation./processing.gif",alt:"loading...",align:"middle"}))},E=n(29),y=n(11),b=n(31),w=n(138),F=n(7),O=n(54),A=n(74),C=function(e){var t=Object(a.useState)({height:.8*window.innerHeight}),n=Object(h.a)(t,2),o=n[0],i=n[1],u=r.a.useRef([]);Object(a.useEffect)(function(){function e(){i({height:.8*window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}},[]);var l=function(e){for(var t=Object(a.useRef)(),n=Object(a.useRef)(),o=e.mesh,i=e.radius,u=new F.Geometry,l=0;l<o.V.length;l++)u.vertices.push(Object(E.a)(F.Vector3,Object(y.a)(o.Varray[l])));for(var s=0;s<o.E.length;s++){u.faces.push(Object(E.a)(F.Face3,Object(y.a)(o.E[s])));for(var c=0;c<3;c++){var f,p=o.E[s][c];f=o.dA[p]<o.dP[p]&&o.dA[p]<o.dT[p]?new F.Color(1017121):o.dT[p]<o.dP[p]?new F.Color(1000069):new F.Color(8722447),u.faces[s].vertexColors[c]=f}}u.computeBoundingSphere(),u.center(),i.current=u.boundingSphere.radius;var d=new F.MeshStandardMaterial({vertexColors:F.VertexColors}),m=new F.WireframeGeometry(u),h=new F.LineBasicMaterial({color:0,linewidth:5,polygonOffset:!0,polygonOffsetFactor:2,polygonOffsetUnits:1});return u.computeFaceNormals(),r.a.createElement("group",null,r.a.createElement("mesh",{ref:t,geometry:u,material:d}),r.a.createElement("lineSegments",{ref:n,geometry:m,material:h}))}({mesh:e.mesh,radius:u});return r.a.createElement(b.a,{style:{height:o.height,width:"95%",textAlign:"center",background:"#D3D3D3"},camera:{position:[0,0,-3*u.current],far:5*u.current}},r.a.createElement("ambientLight",null),r.a.createElement(a.Suspense,{fallback:null},l),r.a.createElement(w.a,{rotateSpeed:4}))},S=function(e){var t=Object(a.useState)(),n=Object(h.a)(t,2),o=n[0],i=n[1],u=Object(a.useState)(),l=Object(h.a)(u,2),s=l[0],c=l[1],f=e.patientsComputed.map(function(e,t){return{value:t,label:e[0]}});return r.a.createElement("div",{align:"middle"},r.a.createElement(A.a,{split:"vertical",minSize:100,defaultSize:200,primary:"first"},r.a.createElement("div",null,r.a.createElement("h3",null," Select patient"),r.a.createElement(O.a,{options:f,onChange:function(e){i(e.value),console.log(o,e)}}),r.a.createElement("h3",null," Select phase"),r.a.createElement(O.a,{className:"basic-single",classNamePrefix:"select",options:[{value:"ED",label:"End-diastole"},{value:"ES",label:"End-systole"}],onChange:function(e){c(e.value),console.log(s,e)}}),r.a.createElement("h2",null," Measurements "),void 0!==o?r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"RVOT EDV "),"  ",(e.patientsComputed[o][1]/1e3).toFixed(1)),r.a.createElement("tr",null,r.a.createElement("td",null,"Inlet EDV"),"  ",(e.patientsComputed[o][2]/1e3).toFixed(1)),r.a.createElement("tr",null,r.a.createElement("td",null,"Apical EDV")," ",(e.patientsComputed[o][3]/1e3).toFixed(1)),r.a.createElement("tr",null,r.a.createElement("td",null,"RVOT EF "),"   ",e.patientsComputed[o][4].toFixed(1)),r.a.createElement("tr",null,r.a.createElement("td",null,"Inlet EF"),"   ",e.patientsComputed[o][5].toFixed(1)),r.a.createElement("tr",null,r.a.createElement("td",null,"Apical EF"),"  ",e.patientsComputed[o][6].toFixed(1)))):r.a.createElement("div",null," Select a patient for displaying here the measurements")),void 0!==o&&void 0!==s?r.a.createElement(C,{mesh:e.patientsComputed[o]["ED"===s?7:8]}):r.a.createElement("div",null," No patient selected to display. ")))},T=function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Page under construction --- our ingeneous engineers are working on it"),r.a.createElement("img",{title:"Our oompa loompa is processing. Please wait.",src:"/RVparcellation./processing.gif",alt:"loading...",class:"center"}))},R=(n(44),n(79)),k=function(e){return r.a.createElement(R.slide,e,r.a.createElement(d.b,{to:"/"},"Home"),r.a.createElement(d.b,{to:"/computation"},"Computation"),r.a.createElement(d.b,{to:"/visualisation"},"Visualisation"),r.a.createElement(d.b,{to:"/settings"},"Settings"),r.a.createElement(d.b,{to:"/about"},"About"))},_=function(e){Object(c.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={patientResults:[],mode:"local"},a.addNewResult=a.addNewResult.bind(Object(s.a)(a)),a.getComputedData=a.getComputedData.bind(Object(s.a)(a)),a}return Object(l.a)(n,[{key:"addNewResult",value:function(e,t,n,a,r,o){var i;i=o?function(e,t){return t}:function(e,t){return 100*(e-t)/e};var u=this.state.patientResults;u.push([e,t[0],t[1],t[2],i(t[0],n[0]),i(t[1],n[1]),i(t[2],n[2]),a,r]),this.setState({patientResults:u})}},{key:"getComputedData",value:function(){return this.state.patientResults}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},"Right ventricle parcellation"),r.a.createElement("body",null,r.a.createElement(d.a,{basename:"/"},r.a.createElement(k,{pageWrapId:"page-wrap",outerContainerId:"App"}),r.a.createElement("div",{id:"page-wrap"},r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:["/","/home"]},r.a.createElement(v,null)),r.a.createElement(m.a,{path:"/computation"},r.a.createElement(p.a,{addNewResult:this.addNewResult,patientsComputed:this.state.patientResults})),r.a.createElement(m.a,{path:"/about"},r.a.createElement(T,null)),r.a.createElement(m.a,{path:"/visualisation"},r.a.createElement(S,{patientsComputed:this.state.patientResults})),r.a.createElement(m.a,{path:"/settings"},r.a.createElement(g,null)))))))}}]),n}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},44:function(e,t,n){},48:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i});var a=n(9);function r(e){for(var t=[],n=[],r=e.split(/[\r\n]+/g),o=r[0].split(/ +/),i=parseInt(o[0]),u=parseInt(o[1]),l=1,s=0;s<i;s++){var c=r[l].split(" ");t.push(new a.d(parseFloat(c[1]),parseFloat(c[2]),parseFloat(c[3]))),l++}for(var f=0;f<u;f++){var p=r[l].split(/ +/);if("tri"!==p[2])throw console.log(r[l],l,o),"UCD has non-triangle face";n.push([parseInt(p[3]),parseInt(p[4]),parseInt(p[5])]),l++}return[t,n]}function o(e,t){for(var n=new a.d(0,0,0),r=0;r<e.length;r++)n.addScaledVector(e[r],1/e.length);for(var o=0,i=0;i<t.length;i++){var u=new a.b,l=t[i];u.set(e[l[0]].x-n.x,e[l[0]].y-n.y,e[l[0]].z-n.z,e[l[1]].x-n.x,e[l[1]].y-n.y,e[l[1]].z-n.z,e[l[2]].x-n.x,e[l[2]].y-n.y,e[l[2]].z-n.z),o+=u.determinant()/6}return o}function i(e){return function(e){return new Promise(function(t,n){var a=new FileReader;a.onload=function(){t(a.result)},a.readAsText(e)})}(e).then(r)}},49:function(e,t,n){"use strict";function a(e,t,n){var a=e._malloc(4*t.length);return e.HEAPF32.set(t,a/4),n.push(a),a}function r(e,t){var n=Date.now(),r=Array(),o=(new Int32Array,function(e,t,n){var a=e._malloc(4*t.length);return e.HEAP32.set(t,a/4),n.push(a),a}(e,Int32Array.from(t.E.flat()),r)),i=(new Float32Array,a(e,Float32Array.from(t.Varray.flat()),r)),u=(new Float32Array,a(e,Float32Array.from(t.dA.flat()),r)),l=(new Float32Array,a(e,Float32Array.from(t.dP.flat()),r)),s=(new Float32Array,a(e,Float32Array.from(t.dT.flat()),r)),c=a(e,new Float32Array(4),r),f=Date.now();console.log("Time on copying data",f-n),e._doParcellationSamplint(i,u,l,s,t.V.length,o,t.E.length,1e4,c);for(var p=0;p<r.length;p+=1)e._free(r[p]);var d=e.HEAPF32[c/4],m=e.HEAPF32[c/4+1],h=e.HEAPF32[c/4+2],v=e.HEAPF32[c/4+3];return console.log(d,m,h,v),[d*h,d*v,d*m]}n.d(t,"a",function(){return r})},55:function(e,t,n){"use strict";n(9),n(1),n(2);n(70);n.d(t,"b",function(){return i}),n.d(t,"a",function(){return u});var a=n(91);n(98);function r(e,t,n){for(var a=[],r=0;r<n;r++)a.push(Math.min(e[r],t[r]));return a}function o(e,t){for(var n=[],a=0;a<t;a++)n.push(e[a]);return n}function i(e){for(var t=e[1],n=e[0],i=[],u=0;u<n.length;u++)i.push([n[u].x,n[u].y,n[u].z]);for(var l=[388,389,392,393,144,540,145,538,539,422,423,38,541,49,55,328,329,332,333,87,94,100,101,103,104,105,122,123,126,127],s=[410,411,409,408,53,64,65,66,67,68,69,83,476,477,92,478,480,481,482,483,484,485,486,487,488,489,479],c=a(t,i,906),f=a(t,i,l[0]),p=1;p<l.length;p++)f=r(f,a(t,i,l[p]),n.length);for(var d=a(t,i,s[0]),m=1;m<s.length;m++)d=r(d,a(t,i,s[m]),n.length);var h={};return h.E=t,h.V=n,h.Varray=i,h.dA=o(c,n.length),h.dP=o(d,n.length),h.dT=o(f,n.length),h}function u(e,t){var n={};n.E=e[1],n.V=e[0];for(var a=[],r=0;r<n.V.length;r++)a.push([n.V[r].x,n.V[r].y,n.V[r].z]);return n.Varray=a,n.dA=t.dA,n.dP=t.dP,n.dT=t.dT,n}},61:function(e,t,n){"use strict";(function(e){var a=n(11),r=n(46),o=n.n(r),i=n(62),u=n(1),l=n(2),s=n(13),c=n(5),f=n(6),p=n(0),d=n.n(p),m=n(81),h=n(63),v=n(69),g=n(48),E=n(55),y=n(71),b=(n(44),n(21)),w=n(49),F=n(72),O=n.n(F),A=n(73),C=n.n(A),S=O()({locateFile:function(){return C.a}}),T=function(t){Object(c.a)(r,t);var n=Object(f.a)(r);function r(e){var t;return Object(u.a)(this,r),(t=n.call(this,e)).state={patientsToCompute:new y.a,numberToCompute:1,numberComputed:1,mode:"local"},t.componentDidMount=t.componentDidMount.bind(Object(s.a)(t)),t.addFiles=t.addFiles.bind(Object(s.a)(t)),t.sendPatientFile=t.sendPatientFile.bind(Object(s.a)(t)),t.sendAllPatients=t.sendAllPatients.bind(Object(s.a)(t)),t.generateAndDownload=t.generateAndDownload.bind(Object(s.a)(t)),t}return Object(l.a)(r,[{key:"componentDidMount",value:function(){var e=Object(i.a)(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({module:void 0}),console.log("Start 3"),e.next=4,S;case 4:t=e.sent,console.log(t),this.setState({module:t});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"addFiles",value:function(e){var t=this.state.patientsToCompute;console.log(e),e.forEach(function(e){return t.addNewFile(e)}),this.setState({patients:t})}},{key:"sendPatientFile",value:function(t){var n=this,r=Date.now();if(this.state.patientsToCompute.get(t).keys().length===1+Math.max.apply(Math,Object(a.a)(this.state.patientsToCompute.get(t).keys()))){var o=this.state.patientsToCompute.get(t).get(0).name.split(".").pop(),i=this.state.module;if("docker"!==this.state.mode){var u=this,l=[];return this.state.patientsToCompute.get(t).keys().forEach(function(e){return l.push(n.state.patientsToCompute.get(t).get(e))}),void Promise.all(l.map(g.a)).then(function(e){var t=Date.now();console.log("Time parsing files",t-r);for(var n=-1,a=1e20,o=1;o<e.length;o++){var i=Object(g.b)(e[o][0],e[o][1]);a>i&&(n=o,a=i)}console.log("iMin",n);var u={};return u.ED=e[0],u.ES=e[n],console.log("Selecting ES =",Date.now()-t),u}).then(function(e){var n,a,o=Date.now(),l=Object(E.b)(e.ED),s=Object(E.a)(e.ES,l),c=Date.now();console.log("Time geodesics =",c-o),n=Object(w.a)(i,l),a=Object(w.a)(i,s),console.log("Sampling volume =",Date.now()-c),u.props.addNewResult(t,n,a,l,s,!1);var f=u.state.patientsToCompute;f.removeFile(t),u.setState({patientsToCompute:f,numberComputed:u.state.numberComputed+1}),console.log("Total patient processing time =",Date.now()-r)})}console.log("Sending new patient");var s=new Headers,c=new FormData;c.append("pId",t),c.append("format",o),this.state.patientsToCompute.get(t).keys().forEach(function(e){return c.append(e,n.state.patientsToCompute.get(t).get(e))}),fetch("http://localhost:5000/computePartitionSingleIndividual",{method:"POST",headers:s,mode:"cors",body:c}).then(function(n){n.json().then(function(n){var a=e.state.patientsToCompute;a.removeFile(t),e.setState({patientsToCompute:a,numberComputed:e.state.numberComputed+1}),e.props.addNewResult(t,[n.outflowEDV,n.inletEDV,n.apicalEDV],[n.outflowEF,n.inletEF,n.apicalEF],void 0,void 0,!0)})})}else this.setState({numberComputed:this.state.numberComputed+1})}},{key:"sendAllPatients",value:function(){var e=this;this.setState({numberToCompute:this.state.patientsToCompute.length(),numberComputed:0}),this.state.patientsToCompute.keys().forEach(function(t){return e.sendPatientFile(t)})}},{key:"generateAndDownload",value:function(){var e="data:text/csv;charset=utf-8,",t=["pID","outflowEDV","inletEDV","apicalEDV","outflowEF","inletEF","apicalEF"],n=t.join(";");e+=n+"\r\n",this.props.patientsComputed.forEach(function(n,a){for(var r=new Array(t.length),o=1;o<t.length;o++)r[o]=Number(n[o]).toFixed(3);var i=r.join(";");e+=i+"\r\n"});var a=encodeURI(e),r=document.createElement("a");r.setAttribute("href",a),r.setAttribute("download","regionalVolumes.csv"),document.body.appendChild(r),r.click()}},{key:"render",value:function(){var e=this.state.patientsToCompute,t=this.props.patientsComputed,n=100*this.state.numberComputed/this.state.numberToCompute;return d.a.createElement("div",{className:"Computation"},d.a.createElement("aside",null,this.state.numberComputed===this.state.numberToCompute?d.a.createElement("div",null,d.a.createElement(h.a,{onDrop:this.addFiles}),d.a.createElement(m.a,{variant:"dark",onClick:this.sendAllPatients,style:{fontSize:18}},"Parcellate!  "),d.a.createElement(m.a,{variant:"dark",disabled:this.state.numberComputed!==this.state.numberToCompute&&void 0!==this.state.module,onClick:this.generateAndDownload,style:{fontSize:18}},"Download CSV"),d.a.createElement(b.b,{to:"/visualisation"},d.a.createElement("button",{type:"button",style:{fontSize:18}},"Visualisation"))):d.a.createElement("div",{class:"container"},d.a.createElement(v.a,{value:n,maxValue:100,minValue:0,text:"".concat(this.state.numberComputed,"/").concat(this.state.numberToCompute)})),d.a.createElement("div",{class:"row"},d.a.createElement("div",{class:"column"},d.a.createElement("h4",null,"Patients to compute "),d.a.createElement("ul",null,e.keys().map(function(t){return d.a.createElement("li",{key:t},d.a.createElement("font",{color:e.get(t).keys().length===1+Math.max.apply(Math,Object(a.a)(e.get(t).keys()))?"black":"red"},t,"  -  ",e.get(t).keys().length," / ",1+Math.max.apply(Math,Object(a.a)(e.get(t).keys()))))}))),d.a.createElement("div",{class:"column"},d.a.createElement("h4",null,"Patients computed "),d.a.createElement("ul",null,t.map(function(e){return d.a.createElement("li",{key:e[0]},d.a.createElement("font",{color:"Black"},e[0]))}))))))}}]),r}(d.a.Component);t.a=T}).call(this,n(42))},63:function(e,t,n){"use strict";var a=n(64),r=n(0),o=n.n(r),i=n(80),u=n(66);function l(){var e=Object(a.a)(["\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 20px;\n  border-width: 2px;\n  border-radius: 2px;\n  border-color: ",";\n  border-style: dashed;\n  background-color: #fafafa;\n  color: #bdbdbd;\n  outline: none;\n  transition: border .24s ease-in-out;\n"]);return l=function(){return e},e}var s=u.a.div(l(),function(e){return function(e){return e.isDragAccept?"#00e676":e.isDragReject?"#ff1744":e.isDragActive?"#2196f3":"#eeeeee"}(e)});t.a=function(e){var t=Object(r.useCallback)(e.onDrop,[]),n=Object(i.a)({onDrop:t,accept:".vtk, .ucd"}),a=n.getRootProps,u=n.getInputProps,l=n.isDragActive,c=n.isDragAccept,f=n.isDragReject;return o.a.createElement("div",{className:"container"},o.a.createElement(s,a({isDragActive:l,isDragAccept:c,isDragReject:f}),o.a.createElement("input",u()),o.a.createElement("p",null,"Drag 'n' drop some UCD files here, or click to select files")))}},71:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n(11),r=n(5),o=n(6),i=n(1),u=n(2),l=function(){function e(){Object(i.a)(this,e),this.data={}}return Object(u.a)(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(void 0===this.data[e]&&null===t)return this.set(e,t()),this.data[e];if(void 0===this.data[e])throw Object.assign(new Error("{k} not in dictionary"),{code:400});return this.data[e]}},{key:"set",value:function(e,t){this.data[e]=t}},{key:"keys",value:function(){return Object.keys(this.data)}},{key:"length",value:function(){return this.keys().length}}]),e}(),s=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"addNewFile",value:function(e){var t=e.name.split("_"),n=t.slice(0,-1).join("_"),a=parseInt(t[t.length-1].split(".")[0]);n in this.data||this.set(n,new l),this.get(n).set(a,e)}},{key:"removeFile",value:function(e){console.log("Removing",e),console.log(this),delete this.data[e]}},{key:"isOK",value:function(){var e=this;return this.keys().every(function(t){return e.get(t).keys()===Math.max.apply(Math,Object(a.a)(e.get(t).keys()))})}}]),n}(l)},72:function(e,t,n){(function(t,a,r){var o=function(){var e="undefined"!==typeof document&&document.currentScript?document.currentScript.src:void 0;return e=e||t,function(t){var o,i,u="undefined"!==typeof(t=t||{})?t:{};u.ready=new Promise(function(e,t){o=e,i=t});var l,s={};for(l in u)u.hasOwnProperty(l)&&(s[l]=u[l]);var c,f,p=[],d=!1,m=!1;d="object"===typeof window,m="function"===typeof importScripts,c="object"===typeof a&&"object"===typeof a.versions&&"string"===typeof a.versions.node,f=!d&&!c&&!m;var h,v,g,E,y,b="";c?(b=m?n(56).dirname(b)+"/":r+"/",h=function(e,t){return E||(E=n(100)),y||(y=n(56)),e=y.normalize(e),E.readFileSync(e,t?null:"utf8")},g=function(e){var t=h(e,!0);return t.buffer||(t=new Uint8Array(t)),C(t.buffer),t},a.argv.length>1&&a.argv[1].replace(/\\/g,"/"),p=a.argv.slice(2),a.on("uncaughtException",function(e){if(!(e instanceof function(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}))throw e}),a.on("unhandledRejection",z),function(e){a.exit(e)},u.inspect=function(){return"[Emscripten Module object]"}):f?("undefined"!=typeof read&&(h=function(e){return read(e)}),g=function(e){var t;return"function"===typeof readbuffer?new Uint8Array(readbuffer(e)):(C("object"===typeof(t=read(e,"binary"))),t)},"undefined"!=typeof scriptArgs?p=scriptArgs:"undefined"!=typeof arguments&&(p=arguments),"function"===typeof quit&&function(e){quit(e)},"undefined"!==typeof print&&("undefined"===typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!==typeof printErr?printErr:print)):(d||m)&&(m?b=self.location.href:"undefined"!==typeof document&&document.currentScript&&(b=document.currentScript.src),e&&(b=e),b=0!==b.indexOf("blob:")?b.substr(0,b.lastIndexOf("/")+1):"",h=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},m&&(g=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),v=function(e,t,n){var a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="arraybuffer",a.onload=function(){200==a.status||0==a.status&&a.response?t(a.response):n()},a.onerror=n,a.send(null)});u.print||console.log.bind(console);var w,F,O=u.printErr||console.warn.bind(console);for(l in s)s.hasOwnProperty(l)&&(u[l]=s[l]);s=null,u.arguments&&(p=u.arguments),u.thisProgram&&u.thisProgram,u.quit&&u.quit,u.wasmBinary&&(w=u.wasmBinary),u.noExitRuntime&&u.noExitRuntime,"object"!==typeof WebAssembly&&z("no native wasm support detected");var A=!1;function C(e,t){e||z("Assertion failed: "+t)}function S(e){var t=u["_"+e];return C(t,"Cannot call unknown function "+e+", make sure it is exported"),t}function T(e,t,n,a,r){var o={string:function(e){var t=0;if(null!==e&&void 0!==e&&0!==e){var n=1+(e.length<<2);(function(e,t,n){(function(e,t,n,a){if(!(a>0))return 0;for(var r=n,o=n+a-1,i=0;i<e.length;++i){var u=e.charCodeAt(i);if(u>=55296&&u<=57343){var l=e.charCodeAt(++i);u=65536+((1023&u)<<10)|1023&l}if(u<=127){if(n>=o)break;t[n++]=u}else if(u<=2047){if(n+1>=o)break;t[n++]=192|u>>6,t[n++]=128|63&u}else if(u<=65535){if(n+2>=o)break;t[n++]=224|u>>12,t[n++]=128|u>>6&63,t[n++]=128|63&u}else{if(n+3>=o)break;t[n++]=240|u>>18,t[n++]=128|u>>12&63,t[n++]=128|u>>6&63,t[n++]=128|63&u}}t[n]=0})(e,k,t,n)})(e,t=le(n),n)}return t},array:function(e){var t=le(e.length);return function(e,t){R.set(e,t)}(e,t),t}};var i=S(e),u=[],l=0;if(a)for(var s=0;s<a.length;s++){var c=o[n[s]];c?(0===l&&(l=ie()),u[s]=c(a[s])):u[s]=a[s]}var f=i.apply(null,u);return f=function(e){return"string"===t?D(e):"boolean"===t?Boolean(e):e}(f),0!==l&&ue(l),f}var R,k,_,j="undefined"!==typeof TextDecoder?new TextDecoder("utf8"):void 0;function D(e,t){return e?function(e,t,n){for(var a=t+n,r=t;e[r]&&!(r>=a);)++r;if(r-t>16&&e.subarray&&j)return j.decode(e.subarray(t,r));for(var o="";t<r;){var i=e[t++];if(128&i){var u=63&e[t++];if(192!=(224&i)){var l=63&e[t++];if((i=224==(240&i)?(15&i)<<12|u<<6|l:(7&i)<<18|u<<12|l<<6|63&e[t++])<65536)o+=String.fromCharCode(i);else{var s=i-65536;o+=String.fromCharCode(55296|s>>10,56320|1023&s)}}else o+=String.fromCharCode((31&i)<<6|u)}else o+=String.fromCharCode(i)}return o}(k,e,t):""}u.INITIAL_MEMORY;var P,x=[],I=[],V=[],N=[];I.push({func:function(){ae()}});var H=0,U=null,M=null;function z(e){u.onAbort&&u.onAbort(e),O(e+=""),A=!0,1,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.";var t=new WebAssembly.RuntimeError(e);throw i(t),t}function W(e,t){return String.prototype.startsWith?e.startsWith(t):0===e.indexOf(t)}u.preloadedImages={},u.preloadedAudios={};var B="data:application/octet-stream;base64,";function q(e){return W(e,B)}var G="file://";function L(e){return W(e,G)}var Y,Z="interpolateSampling.wasm";function X(e){try{if(e==Z&&w)return new Uint8Array(w);if(g)return g(e);throw"both async and sync fetching of the wasm failed"}catch(O){z(O)}}function J(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var n=t.func;"number"===typeof n?void 0===t.arg?P.get(n)():P.get(n)(t.arg):n(void 0===t.arg?null:t.arg)}else t(u)}}q(Z)||(Y=Z,Z=u.locateFile?u.locateFile(Y,b):b+Y);var K={DESTRUCTOR_OFFSET:0,REFCOUNT_OFFSET:4,TYPE_OFFSET:8,CAUGHT_OFFSET:12,RETHROWN_OFFSET:13,SIZE:16};function $(e){this.excPtr=e,this.ptr=e-K.SIZE,this.set_type=function(e){_[this.ptr+K.TYPE_OFFSET>>2]=e},this.get_type=function(){return _[this.ptr+K.TYPE_OFFSET>>2]},this.set_destructor=function(e){_[this.ptr+K.DESTRUCTOR_OFFSET>>2]=e},this.get_destructor=function(){return _[this.ptr+K.DESTRUCTOR_OFFSET>>2]},this.set_refcount=function(e){_[this.ptr+K.REFCOUNT_OFFSET>>2]=e},this.set_caught=function(e){e=e?1:0,R[this.ptr+K.CAUGHT_OFFSET>>0]=e},this.get_caught=function(){return 0!=R[this.ptr+K.CAUGHT_OFFSET>>0]},this.set_rethrown=function(e){e=e?1:0,R[this.ptr+K.RETHROWN_OFFSET>>0]=e},this.get_rethrown=function(){return 0!=R[this.ptr+K.RETHROWN_OFFSET>>0]},this.init=function(e,t){this.set_type(e),this.set_destructor(t),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var e=_[this.ptr+K.REFCOUNT_OFFSET>>2];_[this.ptr+K.REFCOUNT_OFFSET>>2]=e+1},this.release_ref=function(){var e=_[this.ptr+K.REFCOUNT_OFFSET>>2];return _[this.ptr+K.REFCOUNT_OFFSET>>2]=e-1,1===e}}var Q;Q=c?function(){var e=a.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!==typeof dateNow?dateNow:function(){return performance.now()};var ee=!0;var te,ne={a:function(e,t,n,a){z("Assertion failed: "+D(e)+", at: "+[t?D(t):"unknown filename",n,a?D(a):"unknown function"])},c:function(e){return re(e+K.SIZE)+K.SIZE},b:function(e,t,n){throw new $(e).init(t,n),e,0,e},d:function(){z()},f:function(e,t){var n,a;if(0===e)n=Date.now();else{if(1!==e&&4!==e||!ee)return a=28,_[oe()>>2]=a,-1;n=Q()}return _[t>>2]=n/1e3|0,_[t+4>>2]=n%1e3*1e3*1e3|0,0},e:function(e){z("OOM")}},ae=(function(){var e={a:ne};function t(e,t){var n,a=e.exports;u.asm=a,F=u.asm.g,n=F.buffer,n,u.HEAP8=R=new Int8Array(n),u.HEAP16=new Int16Array(n),u.HEAP32=_=new Int32Array(n),u.HEAPU8=k=new Uint8Array(n),u.HEAPU16=new Uint16Array(n),u.HEAPU32=new Uint32Array(n),u.HEAPF32=new Float32Array(n),u.HEAPF64=new Float64Array(n),P=u.asm.m,function(e){if(H--,u.monitorRunDependencies&&u.monitorRunDependencies(H),0==H&&(null!==U&&(clearInterval(U),U=null),M)){var t=M;M=null,t()}}()}function n(e){t(e.instance)}function a(t){return function(){if(!w&&(d||m)){if("function"===typeof fetch&&!L(Z))return fetch(Z,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+Z+"'";return e.arrayBuffer()}).catch(function(){return X(Z)});if(v)return new Promise(function(e,t){v(Z,function(t){e(new Uint8Array(t))},t)})}return Promise.resolve().then(function(){return X(Z)})}().then(function(t){return WebAssembly.instantiate(t,e)}).then(t,function(e){O("failed to asynchronously prepare wasm: "+e),z(e)})}if(H++,u.monitorRunDependencies&&u.monitorRunDependencies(H),u.instantiateWasm)try{return u.instantiateWasm(e,t)}catch(r){return O("Module.instantiateWasm callback failed with error: "+r),!1}(w||"function"!==typeof WebAssembly.instantiateStreaming||q(Z)||L(Z)||"function"!==typeof fetch?a(n):fetch(Z,{credentials:"same-origin"}).then(function(t){return WebAssembly.instantiateStreaming(t,e).then(n,function(e){return O("wasm streaming compile failed: "+e),O("falling back to ArrayBuffer instantiation"),a(n)})})).catch(i)}(),u.___wasm_call_ctors=function(){return(ae=u.___wasm_call_ctors=u.asm.h).apply(null,arguments)}),re=(u._adder=function(){return(u._adder=u.asm.i).apply(null,arguments)},u._sumArray=function(){return(u._sumArray=u.asm.j).apply(null,arguments)},u._malloc=function(){return(re=u._malloc=u.asm.k).apply(null,arguments)}),oe=(u._free=function(){return(u._free=u.asm.l).apply(null,arguments)},u._doParcellationSamplint=function(){return(u._doParcellationSamplint=u.asm.n).apply(null,arguments)},u.___errno_location=function(){return(oe=u.___errno_location=u.asm.o).apply(null,arguments)}),ie=u.stackSave=function(){return(ie=u.stackSave=u.asm.p).apply(null,arguments)},ue=u.stackRestore=function(){return(ue=u.stackRestore=u.asm.q).apply(null,arguments)},le=u.stackAlloc=function(){return(le=u.stackAlloc=u.asm.r).apply(null,arguments)};function se(e){function t(){te||(te=!0,u.calledRun=!0,A||(!0,J(I),J(V),o(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),function(){if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;)e=u.postRun.shift(),N.unshift(e);var e;J(N)}()))}e=e||p,H>0||(!function(){if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)e=u.preRun.shift(),x.unshift(e);var e;J(x)}(),H>0||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),t()},1)):t()))}if(u.ccall=T,u.cwrap=function(e,t,n,a){var r=(n=n||[]).every(function(e){return"number"===e});return"string"!==t&&r&&!a?S(e):function(){return T(e,t,n,arguments)}},M=function e(){te||se(),te||(M=e)},u.run=se,u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);u.preInit.length>0;)u.preInit.pop()();return!0,se(),t.ready}}();e.exports=o}).call(this,"/index.js",n(43),"/")},73:function(e,t,n){e.exports=n.p+"366c8b4c075ca22985f31fe8188ee7f0.wasm"},82:function(e,t,n){e.exports=n(135)}},[[82,1,2]]]);
//# sourceMappingURL=main.24c08f60.chunk.js.map